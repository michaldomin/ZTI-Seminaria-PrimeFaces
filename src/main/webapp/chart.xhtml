<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<head>
    <title>IGNORED</title>
</head>
<body>

<ui:composition template="/templates/masterTemplate.xhtml">
    <ui:define name="content">

        <script>
            //<![CDATA[
            function exportChart() {
                //export image
                $('#output').empty().append(PF('chart').exportAsImage());

                //show the dialog
                PF('dlg').show();
            }
            //]]>
        </script>

        <p:barChart id="barChart" model="#{chartJsView.barModel}" style="width: 100%; height: 500px;" widgetVar="chart"/>
        <br/>

        <p:commandButton type="button" value="Export" icon="pi pi-home" onclick="exportChart()" styleClass="mr-2 mb-2"/>

        <p:dialog widgetVar="dlg" showEffect="fade" modal="true" header="Chart as an Image" resizable="false">
            <p:outputPanel id="output" layout="block" style="width:500px;height:300px"/>
        </p:dialog>

        <f:facet name="footer">
            <a href="http://www.primefaces.org:8080/showcase/ui/chartjs/export.xhtml">Source</a><br/>
        </f:facet>

    </ui:define>
</ui:composition>

</body>
</html>





